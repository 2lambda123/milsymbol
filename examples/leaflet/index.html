<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MilSymbol units in a LeafLet map - spatialillusions.com</title>
<style type="text/css">
	body{
		font-family:'Trebuchet MS',Arial;
		font-weight:normal;
		background-color:#202020;
		margin-top:0px;
		margin-left: 0px;
   		margin-right: 0px;
   		color:#f0f0f0;
	}
	html, body {
     height: 100%;
	}
	.mymap{
	position: absolute; 
	left: 0; 
	top: 0px; 
	bottom: 0; 
	width: 100%;
	}
</style>


 <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="../../bin//MilSymbol.js"></script>

 <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
 
<script>
function init(){

			var osmAttr = '&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>';
			
			OSM = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 18, attribution: osmAttr}),
			latlng = L.latLng(59, 16);

		var map = L.map('map', {center: latlng, zoom: 5, layers: [OSM]});



var Units = [{"Name":"Berga","Latitude":59.079584,"Longitude":18.132854 , "SIDC":"SFG-UCIN---G" },
{"Name":"Boden","Latitude":65.818014,"Longitude":21.663709, "SIDC":"SFG-UCF----G"},
{"Name":"Ronneby","Latitude":56.258695,"Longitude":15.285877, "SIDC":"SFA-MF-----G"},
{"Name":"Karlskrona","Latitude":56.157382,"Longitude":15.585608, "SIDC":"SFU-S------G"},
{"Name":"Karlskrona","Latitude":56.157382,"Longitude":15.585608, "SIDC":"SFS--------G"},
{"Name":"Stockholm","Latitude":59.340861,"Longitude":18.111498, "SIDC":"SFG-I-----AI"},
{"Name":"Halmstad","Latitude":56.683297,"Longitude":12.841988, "SIDC":"SFG-UCDHH--G"},
{"Name":"Eksjö","Latitude":57.677746,"Longitude":14.965181, "SIDC":"SFG-UCEC---G"},
{"Name":"Linköping","Latitude":58.409626,"Longitude":15.518382, "SIDC":"SFA-MH-----G"},
{"Name":"Enköping","Latitude":59.645594,"Longitude":17.101014, "SIDC":"SFG-UUS----G"},
{"Name":"Kungsängen","Latitude":59.515132,"Longitude":17.769742, "SIDC":"SFG-UCRV---G"},
{"Name":"Karlsborg","Latitude":58.530198,"Longitude":14.522656, "SIDC":"SFG-UUM----F"},
{"Name":"Skövde","Latitude":58.382548,"Longitude":13.84655, "SIDC":"SFG-UCA----G"},
{"Name":"Luleå","Latitude":65.54226,"Longitude":22.106895, "SIDC":"SFA-MF-----G"},
{"Name":"Boden","Latitude":65.820114,"Longitude":21.658816, "SIDC":"SFG-UCA----G"},
{"Name":"Såtenäs","Latitude":58.440366,"Longitude":12.724915, "SIDC":"SFA-MFC----E"},
{"Name":"Revingehed","Latitude":55.717829,"Longitude":13.502197, "SIDC":"SFG-UCATL--G"},
{"Name":"Umeå","Latitude":63.837594,"Longitude":20.253832, "SIDC":"SFG-UUA----F"},
{"Name":"Skövde","Latitude":58.382983,"Longitude":13.848578, "SIDC":"SFG-UST----G"},
{"Name":"Arvidsjaur","Latitude":65.582793,"Longitude":19.162302, "SIDC":"SFG-UCRO---F"},
{"Name":"Karlsborg","Latitude":58.530198,"Longitude":14.522656, "SIDC":"SFF--------E"}]

var mysymbol = [];
var myicon = [];
var mymarker =[];

for( i in Units){
iconSize = {"E":20,"F":25,"G":30,"H":35,"I":40};

mysymbol[i] = new MilSymbol(Units[i].SIDC,{size:iconSize[(Units[i].SIDC).charAt(11)]})
myicon[i] = L.divIcon({	className: 'test', 
						html : mysymbol[i].symbolMarker().textXML, 
						iconAnchor: new L.Point(mysymbol[i].symbolMarker().x, mysymbol[i].symbolMarker().y)});

mymarker[i] = L.marker([Units[i].Latitude, Units[i].Longitude],{icon:myicon[i], draggable:true});
mymarker[i].addTo(map)

}
}
</script>
</head>
<body onload="init()">
<div class="page">
<div id="map" class="mymap">
</div></div></body>
</html>