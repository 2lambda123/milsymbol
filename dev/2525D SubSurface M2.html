<html>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge">

<body>

  <textarea id="codes">
Unspecified;;00;
Air Independent Propulsion;;01;
Diesel Electric, General;;02;
Diesel ñ Type 1;;03;
Diesel ñ Type 2;;04;
Diesel ñ Type 3;;05;
Nuclear Powered, General;;06;
Nuclear ñ Type 1;;07;
Nuclear ñ Type 2;;08;
Nuclear ñ Type 3;;09;
Nuclear ñ Type 4;;10;
Nuclear ñ Type 5;;11;
Nuclear ñ Type 6;;12;
Nuclear ñ Type 7;;13;
Autonomous Control;;14;
Remotely Piloted;;15;
Expendable;;16;
Reserved for Future Use;;17-98;Assigned by SSMC/JSP only
Version Extension Flag;;99;
</textarea>

  <script>
    var autotest = "&lt;table border=1&gt;<br>"
    var re = /(^.*);(.*);(.*);(.*$)/gm;
    var str = document.getElementById("codes").value;
    var m;

    String.prototype.replaceAt = function (index, character) {
      return this.substr(0, index) + character + this.substr(index + character.length);
    }

    while ((m = re.exec(str)) != null) {
      if (m.index === re.lastIndex) {
        re.lastIndex++;
      }
      autotest += "&lt;tr&gt;<br>&lt;td&gt;" + m[1] + "&lt;/td&gt; &lt;td&gt;" + ((m[3] < 10) ? '0' + m[3] : m[3]) + "&lt;/td&gt; <br> &lt;td&gt;" +
        "&lt;script&gt;document.write(new MilSymbol(\"100135000000000000" + ((m[3] < 10) ? '0' + m[3] : m[3]) + "\", {size:size}).symbolMarker().textXML);&lt;/script&gt;<br>" +
        "&lt;script&gt;document.write(new MilSymbol(\"100335000000000000" + ((m[3] < 10) ? '0' + m[3] : m[3]) + "\", {size:size}).symbolMarker().textXML);&lt;/script&gt;<br>" +
        "&lt;script&gt;document.write(new MilSymbol(\"100435000000000000" + ((m[3] < 10) ? '0' + m[3] : m[3]) + "\", {size:size}).symbolMarker().textXML);&lt;/script&gt;<br>" +
        "&lt;script&gt;document.write(new MilSymbol(\"100635000000000000" + ((m[3] < 10) ? '0' + m[3] : m[3]) + "\", {size:size}).symbolMarker().textXML);&lt;/script&gt;<br>" +
        "&lt;/td&gt;<br>&lt;/tr&gt;<br>"
    }
    autotest += "&lt;/table&gt;"


    document.write("&lt;h3 id=\"TABLEA-I\"&gt;TABLE A-I.  Sea subsurface sector 2 modifier &lt;/h3&gt;<br>" + autotest)

  </script>
  </script>
</body>

</html>
